"""
Quick Reference: Switching Chunking Strategies
==============================================

STEP 1: Choose Your Strategy
-----------------------------

Option A: Recursive Text Splitter (Default, Fast)
    - Best for: General text documents
    - Speed: ⚡⚡⚡ Very Fast
    - Quality: Good
    - Setup: None required (built-in)

Option B: Unstructured.io (Structure-Aware, Slow)
    - Best for: Academic papers, legal docs, technical manuals
    - Speed: ⚡ Slower
    - Quality: Excellent (preserves structure)
    - Setup: pip install unstructured[pdf]


STEP 2: Edit Configuration
---------------------------

File: rag_generic_splitting.py
Line: 11

Change this:
    CHUNKING_STRATEGY = "recursive"    # Current default

To this:
    CHUNKING_STRATEGY = "unstructured" # For structure-aware chunking


STEP 3: Run
-----------

Set rebuild flag if needed:
    REBUILD_VECTOR_DB = True   # First run or when switching strategies
    REBUILD_VECTOR_DB = False  # For queries only

Run the script:
    python3 rag_generic_splitting.py


Common Configurations
=====================

1. Quick Testing (Fast)
   ---------------------
   CHUNKING_STRATEGY = "recursive"
   REBUILD_VECTOR_DB = True

2. Production Quality (Structured Docs)
   ------------------------------------
   CHUNKING_STRATEGY = "unstructured"
   REBUILD_VECTOR_DB = True

3. Query Existing Database
   ------------------------
   CHUNKING_STRATEGY = "recursive"  # Must match database
   REBUILD_VECTOR_DB = False


Customizing Chunk Sizes
=======================

Recursive Strategy (lines 94-101):
    chunking_strategy = get_chunking_strategy(
        "recursive",
        parent_chunk_size=2048,  # ← Adjust size
        child_chunk_size=512,    # ← Adjust size
        chunk_overlap=0          # ← Add overlap for context
    )

Unstructured Strategy (lines 102-112):
    chunking_strategy = get_chunking_strategy(
        "unstructured",
        parent_max_chars=2000,        # ← Adjust size
        child_max_chars=500,          # ← Adjust size
        combine_under_n_chars=200,    # ← Combine tiny chunks
        new_after_n_chars=1500,       # ← Soft chunk boundary
        strategy="hi_res",            # ← "hi_res" or "fast"
        infer_table_structure=True    # ← Preserve tables
    )


Troubleshooting
===============

Error: ModuleNotFoundError: No module named 'unstructured'
Solution: pip install unstructured[pdf]
   or change CHUNKING_STRATEGY to "recursive"

Error: Chunks too large/small
Solution: Adjust chunk_size or max_chars parameters

Error: Poor retrieval quality
Solution: Try unstructured strategy for structured docs
   or increase chunk sizes
   or add chunk_overlap for recursive strategy


Quick Commands
==============

# Install unstructured.io
pip install unstructured[pdf]

# Check Python syntax
python3 -m py_compile rag_generic_splitting.py

# Run the script
python3 rag_generic_splitting.py

# View example usage
python3 example_strategy_usage.py


File Overview
=============

chunking_strategies.py    - All chunking strategy implementations
rag_generic_splitting.py  - Main RAG script (uses strategies)
example_strategy_usage.py - Examples of how to use strategies
CHUNKING_README.md        - Full documentation
REFACTORING_SUMMARY.md    - What changed and why


Need Help?
==========

1. Read CHUNKING_README.md for detailed docs
2. Run example_strategy_usage.py to see examples
3. Check REFACTORING_SUMMARY.md to understand the changes
"""

